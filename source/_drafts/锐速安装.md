---
title: 锐速安装
toc: true
comments: true
categories: 科学上网
abbrlink: 7c640a7c
date: 2017-04-13 21:38:44
tags:
updated:
---

## 安装方法

推荐使用*91yun提供的开心版*，[https://www.91yun.org/archives/683](https://www.91yun.org/archives/683)

```shell
wget -N --no-check-certificate https://github.com/91yun/serverspeeder/raw/master/serverspeeder.sh && bash serverspeeder.sh
```

该脚本安装完，已将锐速自动加入开机启动中。

执行lsmod，看到appex0模块即说明锐速已正常安装并启动。

<!-- more -->

如果发现Centos内核不支持，更换Centos内核后在重新安装。参考[Centos更换内核](https://www.91yun.org/archives/795)

Centos6 内核更换为：2.6.32-504.3.3.el6.x86_64

```shell
rpm -ivh http://soft.91yun.org/ISO/Linux/CentOS/kernel/kernel-firmware-2.6.32-504.3.3.el6.noarch.rpm
rpm -ivh http://soft.91yun.org/ISO/Linux/CentOS/kernel/kernel-2.6.32-504.3.3.el6.x86_64.rpm --force
```

Centos7 内核更换为： 3.10.0-229.1.2.el7.x86_64

```shell
rpm -ivh http://soft.91yun.org/ISO/Linux/CentOS/kernel/kernel-3.10.0-229.1.2.el7.x86_64.rpm --force
```

查看内核是否安装成功

```shell
rpm -qa | grep kernel
```

重启，查看内核是否更换成功

```she
reboot
uname -r
```

## 卸载方法

```shell
chattr -i /serverspeeder/etc/apx* && /serverspeeder/bin/serverSpeeder.sh uninstall -f
```

## 常用命令

* 查看状态：`/serverspeeder/bin/serverSpeeder.sh stats`
* 停止：`/serverspeeder/bin/serverSpeeder.sh stop`
* 启动：`/serverspeeder/bin/serverSpeeder.sh start`
* 重启：`/serverspeeder/bin/serverSpeeder.sh restart`
* 查看所有命令：`/serverspeeder/bin/serverSpeeder.sh help`

## 锐速优化

锐速常用重要参数如下：

> acc="1"  #TCP 加速开关；设为 1 表示开启 LotServer 的 TCP 加速功能，设为 0 表示关闭>LotServer 的 TCP 加速功能；默认为 1；
> accppp="1" #加速PPTP、L2TP V-P-N；设为1表示开启，设为0表示关闭
> advacc=”1” #高级加速开关；设为 1 表示开启，设为 0 表示关闭；开启此功能可以得到更好的加速效果，但有可能会造成有效数据率下降；默认为 1；
> advinacc="0" #高级入向加速开关；设为 1 表示开启，设为 0 表示关闭；开启此功能可以得到更好的流入方向流量加速效果；
> subnetAcc="0" #局域网加速开关；设为 1 表示开启；设为 0 表示关闭；不开启时对于同一局域网内的连接不会加速；开启后对同一网段的 TCP 连接也进行加速；
> engineNum="1" #引擎数，只启用 1 个加速引擎 “单核心才能更稳定”，0 为自动
> maxmode="1" #最大传输模式；设为 1 表示开启；设为 0 表示关闭；开启后会进一步提高加速效>果，但是可能会降低有效数据率。
> rsc="1" #网卡接收端合并开关；设为 1 表示开启，设为 0 表示关闭；在有些较新的网卡驱动中，>带有 RSC 算法的，需要打开该功能。
> gso="0" #GSO 开关；设为 1 表示开启，设为 0 表示关闭；当网卡需要开启 gso 功能时，开启此>功能，LotServer 变为支持 gso 的模式；关闭此功能，如果网卡开启 gso，LotServer- 8 - 会关闭网>卡的 gso 功能；
> l2wQLimit="512 4096" #从 LAN 到 WAN 加速引擎在缓冲池充满和空闲时分别能够缓存的数据包队列的长度的上限；该值设置的高会获得更好的加速效果，但是会消耗更多的内存
> w2lQLimit="512 4096" #从 WAN 到 LAN 加速引擎在缓冲池充满和空闲时分别能够缓存的数据包队列的长度的上限；该值设置的高会获得更好的加速效果，但是会消耗更多的内存

使用**91yun**的一键安装脚本，根据自己vps的配置，可以修改`vi /serverspeeder/etc/config`文件中的几个参数，提升性能。

* advinacc="1"
* subnetAcc="1"

更多详细参数请查看[锐速配置参数说明](/posts/24736fe7)